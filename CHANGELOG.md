# Changelog

## Unreleased
- Bootstrap RISC-V64 QEMU minimal kernel (entry.S, linker script, SBI console).
- Wire build/run/gdb/test-qemu-smoke scripts for the initial bring-up.
- Add MIT license and third-party notices placeholder.
- Add memory management scaffolding (address types, PTE layout, bump allocator stub).
- Add DTB parsing to discover memory and UART information at boot.
- Enable early Sv39 paging with an identity-mapped kernel page table.
- Enable periodic timer ticks using SBI set_timer and DTB timebase frequency.
- Enter an idle loop after early initialization to keep the kernel running.
- Track timer tick count in a dedicated time module.
- Add a basic sleep_ms helper driven by timer ticks.
- Initialize a bump frame allocator starting after ekernel within identity map.
- Allocate early page tables from the frame allocator.
- Add a scheduler-backed wait timeout helper for blocking waits.
- Add a WaitQueue helper that blocks tasks and wakes via notify_one/notify_all.
- Add minimal run queue and scheduler tick hook scaffolding.
- Add context struct and context_switch assembly stub.
- Add a kernel stack helper backed by contiguous frames.
- Add task entry stub and dummy task initialization.
- Add a configurable tick-based scheduling interval.
- Add default tick/config constants for scheduler timing.
- Defer scheduler switches to the idle loop via a resched flag.
- Add a cooperative yield path for the dummy task.
- Add round-robin cursor and a second dummy task.
- Pool early task stacks with a fixed slot limit.
- Add a task table and store task IDs in the run queue.
- Fix cooperative yield to requeue the current task.
- Add a task wait queue with block/wake helpers.
- Add a sleep queue and scheduler-backed sleep helper.
- Add a third dummy task to exercise sleep.
- Refine block/wake state transitions for wait queues.
- Add a trapframe guard for future preemption.
- Track trapframe pointers in the task table.
- Track wait completion reasons and validate task state transitions.
- Exercise wait queues with notify/timeout dummy tasks.
- Clear stale sleep queue entries after wait completion.
- Add a minimal syscall dispatcher and U-mode ecall handling.
- Add a minimal user-mode mapping and sscratch-based trap stack swap.
- Add minimal user pointer translation and sys_write console output.
- Add a user-test feature flag and USER_TEST=1 smoke validation for U-mode ecall.
- Add UserPtr/UserSlice helpers to validate and copy user buffers.
- Add minimal sys_read for fd=0 using SBI getchar (non-blocking placeholder).
- Make user-mode smoke buffer cross-page to exercise UserSlice chunking.
- Add clock_gettime/gettimeofday/getpid time stubs based on uptime ticks.
- Add readv/writev helpers and route the user smoke through writev.
- Add uname syscall stub with minimal utsname fields.
- Add minimal getppid/getuid/geteuid/getgid/getegid stubs.
- Add gettid and sched_yield stubs.
- Add exit_group stub aligned with exit shutdown.
- Add clock_gettime64 alias to clock_gettime stub.
- Add getcwd stub returning root path.
- Add set_tid_address stub with pointer validation.
- Add close stub for stdio fds.
- Add getrlimit/prlimit64 stubs with default limits.
- Add ioctl TIOCGWINSZ stub with default 80x24.
- Add nanosleep stub using tick-based busy wait.
- Add sysinfo stub for uptime and memory size.
- Add getrandom stub with xorshift output.
- Add fstat stub for stdio character device metadata.
- Add dup/dup3 stubs for stdio redirection.
- Add robust list stubs returning empty state.
- Add rt_sigaction/rt_sigprocmask stubs.
